<mxfile host="app.diagrams.net" modified="2023-04-03T10:23:50.897Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" etag="FAQB1VmuQWwhJoxYxT9c" version="21.1.2" type="github">
  <diagram name="第 1 页" id="er9I0QnL_Se0PQcWxd1t">
    <mxGraphModel dx="3404" dy="2084" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ewofRc9dXVoDsyhrSTzK-48" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="301" y="350" width="320" height="490" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-1" target="ewofRc9dXVoDsyhrSTzK-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-1" value="&lt;font style=&quot;&quot;&gt;企微宝：消息发送&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="325" y="520" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-2" value="&lt;font style=&quot;&quot;&gt;企业微信&lt;br&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;/cgi-bin/message/send&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="325" y="775" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-3" value="&lt;font style=&quot;&quot;&gt;QyApiClientService#sendQyTextMessage&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-159" y="765" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-4" target="ewofRc9dXVoDsyhrSTzK-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;发送企微消息&lt;br style=&quot;font-size: 14px;&quot;&gt;/crm-enterprise-wechat/v1/message/appmsg&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="640" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-5" target="ewofRc9dXVoDsyhrSTzK-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-364" y="723" />
              <mxPoint x="-364" y="785" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;侧边栏发送消息通知&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;font face=&quot;JetBrains Mono, monospace&quot; style=&quot;font-size: 14px;&quot;&gt;/crm-enterprise-wechat/ext/v1/enrollment/notify&lt;/font&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="703" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-6" target="ewofRc9dXVoDsyhrSTzK-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-364" y="848" />
              <mxPoint x="-364" y="785" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;MQ: 订单中心消息消费&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;font face=&quot;JetBrains Mono, monospace&quot; style=&quot;font-size: 14px;&quot;&gt;OrderCenterConsumer#consume&lt;/font&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="828" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-7" target="ewofRc9dXVoDsyhrSTzK-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;企业微信手动操作：回调消息补偿&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;font face=&quot;JetBrains Mono, monospace&quot; style=&quot;font-size: 14px;&quot;&gt;/crm-enterprise-wechat/v1/manage/cpsQyNotify&lt;/font&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="765" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-8" target="ewofRc9dXVoDsyhrSTzK-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-8" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;MQ: 企业微信通知消息消费&lt;br style=&quot;font-size: 14px;&quot;&gt;QyNotifyMessageConsumer#consume&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="890" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-9" value="&lt;font style=&quot;&quot;&gt;企微宝任务拉取的回调接口，由企微宝发起调用&lt;br&gt;/crm-enterprise-wechat/v1/qwb&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="325" y="437" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-11" value="拉取task数据" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#9673a6;fillColor=#e1d5e7;" vertex="1" parent="1">
          <mxGeometry x="464" y="487" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-12" value="&lt;font style=&quot;&quot;&gt;写入task数据&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="325" y="370" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-13" value="&lt;font style=&quot;&quot;&gt;读取task数据&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="464" y="370" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-14" value="&lt;font style=&quot;&quot;&gt;UserVacateController：添加企微表pull任务&lt;br&gt;/crm-enterprise-wechat/ext/v1/addQwbPullTask&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-390" y="-30" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-15" target="ewofRc9dXVoDsyhrSTzK-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UserVacateController：通知学生&lt;br style=&quot;font-size: 14px;&quot;&gt;/crm-enterprise-wechat/ext/v1/notifyStudents&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="545" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-16" target="ewofRc9dXVoDsyhrSTzK-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-16" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UserVacateController：通用消息通知&lt;br style=&quot;font-size: 14px;&quot;&gt;/crm-enterprise-wechat/ext/v1/notifyCommon&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="270" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-17" value="&lt;font style=&quot;&quot;&gt;GroupController：发送群消息&lt;br&gt;/crm-enterprise-wechat/v1/group/sendChatRoomMsg&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-390" y="-260" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-18" target="ewofRc9dXVoDsyhrSTzK-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-18" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;QwbNotifyController：根据ecUserId发送信息&lt;br style=&quot;font-size: 14px;&quot;&gt;/crm-enterprise-wechat/v1/qwb/sendMsgByEcUserId&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="394" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-20" value="&lt;font style=&quot;&quot;&gt;QwbNotifyService#saveCommonQwbTask()&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-159" y="340" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-21" value="&lt;font style=&quot;&quot;&gt;QwbNotifyService#saveQwbTask&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-159" y="545" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-22" target="ewofRc9dXVoDsyhrSTzK-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-22" value="&lt;font style=&quot;&quot;&gt;QwbNotifyService#notifyStudents&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-480" y="545" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-23" target="ewofRc9dXVoDsyhrSTzK-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-23" value="&lt;font style=&quot;&quot;&gt;QwbNotifyService#notifyCommon&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-480" y="270" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-24" target="ewofRc9dXVoDsyhrSTzK-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-24" value="&lt;font style=&quot;&quot;&gt;QwbNotifyService#saveCommonQwbTaskByReq&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-480" y="420" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-25" target="ewofRc9dXVoDsyhrSTzK-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-25" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;MQ: 延迟发送欢迎语消息&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;SendWelcomeMessageEventHandler#handler&lt;/div&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-940" y="447" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=14;" edge="1" parent="1" source="ewofRc9dXVoDsyhrSTzK-45" target="ewofRc9dXVoDsyhrSTzK-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-45" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;在线课堂：缺勤提醒/掉线提醒/开课提醒/补课提醒&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-1470" y="545" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-47" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;crm-strategy-task 对wechat的调用&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-1470" y="640" width="373" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-49" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-960" y="240" width="1090" height="710" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-52" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;notch=0;" vertex="1" parent="1">
          <mxGeometry x="170" y="417" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-53" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;notch=0;" vertex="1" parent="1">
          <mxGeometry x="170" y="758" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ewofRc9dXVoDsyhrSTzK-54" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;notch=0;" vertex="1" parent="1">
          <mxGeometry x="-1060" y="635" width="90" height="45" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
